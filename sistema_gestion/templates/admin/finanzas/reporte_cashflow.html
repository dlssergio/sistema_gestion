{% extends "admin/base_site.html" %}
{% load i18n static humanize %}

{% block content %}
<div id="content-main">
    <h1>Proyección Financiera (Cheques)</h1>

    <div style="display: flex; gap: 20px; margin-bottom: 20px;">
        <div class="module" style="flex: 1; padding: 15px; background: #e6fffa; border-left: 5px solid green;">
            <h2>A Cobrar (Cartera)</h2>
            <p style="font-size: 20px; font-weight: bold;">$ {{ total_entrada|floatformat:2|intcomma }}</p>
        </div>
        <div class="module" style="flex: 1; padding: 15px; background: #fff5f5; border-left: 5px solid red;">
            <h2>A Pagar (Emitidos)</h2>
            <p style="font-size: 20px; font-weight: bold;">$ {{ total_salida|floatformat:2|intcomma }}</p>
        </div>
        <div class="module" style="flex: 1; padding: 15px; background: #ebf8ff; border-left: 5px solid blue;">
            <h2>Balance Proyectado</h2>
            <p style="font-size: 20px; font-weight: bold;">$ {{ balance_proyectado|floatformat:2|intcomma }}</p>
        </div>
    </div>

    <div style="display: flex; gap: 20px;">
        <div class="module" style="flex: 1;">
            <table style="width: 100%;">
                <caption>CHEQUES A DEPOSITAR (Ingresos)</caption>
                <thead>
                    <tr>
                        <th>Fecha Pago</th>
                        <th>Banco</th>
                        <th>Importe</th>
                    </tr>
                </thead>
                <tbody>
                    {% for c in cheques_entrada %}
                    <tr>
                        <td>{{ c.fecha_pago|date:"d/m/Y" }}</td>
                        <td>{{ c.banco }}</td>
                        <td style="color: green; text-align: right;">{{ c.monto|floatformat:2|intcomma }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="module" style="flex: 1;">
            <table style="width: 100%;">
                <caption>CHEQUES A CUBRIR (Egresos)</caption>
                <thead>
                    <tr>
                        <th>Fecha Pago</th>
                        <th>N° Cheque</th>
                        <th>Importe</th>
                    </tr>
                </thead>
                <tbody>
                    {% for c in cheques_salida %}
                    <tr>
                        <td>{{ c.fecha_pago|date:"d/m/Y" }}</td>
                        <td>{{ c.numero }}</td>
                        <td style="color: red; text-align: right;">{{ c.monto|floatformat:2|intcomma }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}