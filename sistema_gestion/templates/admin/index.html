{% extends "admin/index.html" %}
{% load static dashboard_tags %}

{% block extrahead %}
{{ block.super }}
<style>
    /* Estilos del Dashboard Ejecutivo */
    .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }
    .dash-card {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        border-left: 5px solid #ccc;
        transition: transform 0.2s;
    }
    .dash-card:hover { transform: translateY(-2px); }
    
    .dash-title { font-size: 12px; text-transform: uppercase; color: #888; letter-spacing: 1px; margin-bottom: 5px; }
    .dash-value { font-size: 28px; font-weight: bold; color: #333; }
    .dash-sub { font-size: 11px; color: #666; margin-top: 5px; }

    /* Colores sem√°nticos */
    .card-liquidez { border-color: #27ae60; }
    .card-cobrar { border-color: #f39c12; }
    .card-pagar { border-color: #c0392b; }
    .card-resultado { border-color: #2980b9; }
    
    .text-green { color: #27ae60; }
    .text-red { color: #c0392b; }
</style>
{% endblock %}

{% block content %}
{% get_dashboard_stats as stats %}

<div class="dashboard-grid">
    <div class="dash-card card-liquidez">
        <div class="dash-title">Liquidez Disponible</div>
        <div class="dash-value text-green">$ {{ stats.liquidez|floatformat:2 }}</div>
        <div class="dash-sub">Caja + Bancos</div>
    </div>

    <div class="dash-card card-cobrar">
        <div class="dash-title">Por Cobrar</div>
        <div class="dash-value">$ {{ stats.a_cobrar|floatformat:2 }}</div>
        <div class="dash-sub">
            En Cartera: $ {{ stats.cheques_cartera|floatformat:0 }}<br>
            Cta. Cte.: $ {{ stats.a_cobrar|add:stats.cheques_cartera|floatformat:0 }} </div>
    </div>

    <div class="dash-card card-pagar">
        <div class="dash-title">Por Pagar</div>
        <div class="dash-value text-red">$ {{ stats.a_pagar|floatformat:2 }}</div>
        <div class="dash-sub">Deuda Proveedores</div>
    </div>

    <div class="dash-card card-resultado">
        <div class="dash-title">Resultado del Mes</div>
        <div class="dash-value" style="color: {% if stats.resultado_mes >= 0 %}#2980b9{% else %}#c0392b{% endif %}">
            $ {{ stats.resultado_mes|floatformat:2 }}
        </div>
        <div class="dash-sub">Ventas: $ {{ stats.ventas_mes|floatformat:0 }}</div>
    </div>
</div>

{{ block.super }}
{% endblock %}